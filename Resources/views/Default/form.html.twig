{% if app.request.headers.get('X-REQUESTED-WITH') == 'XMLHttpRequest' %}
	{% set extend_page = viva_app_twig_blank_base|default('VivaitBootstrapBundle:Default:blank_base.html.twig') %}
{% else %}
	{% set extend_page = viva_app_twig_base|default('VivaitBootstrapBundle:Default:base.html.twig') %}
{% endif %}

{% extends extend_page %}
{% form_theme form.form 'VivaitBootstrapBundle:Form:fields.html.twig' %}

{% block sectiontitle %}
	{{ form.title }}
{% endblock %}

{% block section %}
<form novalidate class="ajax form-horizontal" id="modelDialogForm" action="{{ form.action|default(app.request.uri) }}" method="post" {{ form_enctype(form.form) }}>
	{{ form.content|default('')|raw }}
	{{ form_errors(form.form) }}
	{{ form_widget(form.form) }}

	{% if form.parent is defined %}
		<input type="hidden" id="parent" name="parent" value="{{ form.parent }}"/>
	{% else %}
		<input type="hidden" id="parent" name="parent" value="{{ app.request.query.get('parent', app.request.request.get('parent', app.request.headers.get('referer'))) }}"/>
	{% endif %}

	<div class="form-actions form-group text-center col-sm-12">
		{% if is_blank_page %}
			<a class="btn close-dialog" href="#">Cancel</a>
		{% endif %}
		<input type="submit" class="btn btn-primary" value="Submit"/>
	</div>
</form>

{# FOR DEBUGGING #}
{# <script src="{{ asset('bundles/vivabravo/js/vendor/jquery-1.9.0.min.js') }}"></script> #}
{% endblock %}